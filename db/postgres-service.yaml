apiVersion: v1
kind: Service
metadata:
  name: postgres  # ðŸ‘ˆ This becomes the DNS name! Other pods use "postgres" to connect
  labels:
    app: postgres
spec:
  type: ClusterIP  # ðŸ‘ˆ Internal only - we don't need external access to our DB
  selector:
    app: postgres  # ðŸ‘ˆ This matches our Deployment's labels
  ports:
  - port: 5432  # ðŸ‘ˆ The port other services will use
    targetPort: 5432  # ðŸ‘ˆ The port on the pod (where PostgreSQL is listening)
    name: postgres